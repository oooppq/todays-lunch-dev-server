"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const body_parser_1 = require("body-parser");
const restaurant_1 = __importDefault(require("./routes/restaurant"));
const recommendation_1 = __importDefault(require("./routes/recommendation"));
const sale_1 = __importDefault(require("./routes/sale"));
const login_1 = __importDefault(require("./routes/login"));
const refresh_1 = __importDefault(require("./routes/refresh"));
const findPassword_1 = __importDefault(require("./routes/findPassword"));
const changePassword_1 = __importDefault(require("./routes/changePassword"));
const checkPassword_1 = __importDefault(require("./routes/checkPassword"));
const logout_1 = __importDefault(require("./routes/logout"));
const mypage_1 = __importDefault(require("./routes/mypage"));
const myReviews_1 = __importDefault(require("./routes/myReviews"));
const myStore_1 = __importDefault(require("./routes/myStore"));
const foodCat_1 = __importDefault(require("./routes/foodCat"));
const locCat_1 = __importDefault(require("./routes/locCat"));
const locTag_1 = __importDefault(require("./routes/locTag"));
const recomTag_1 = __importDefault(require("./routes/recomTag"));
const email_1 = __importDefault(require("./routes/email"));
const join_1 = __importDefault(require("./routes/join"));
const menu_1 = __importDefault(require("./routes/menu"));
const cors_1 = __importDefault(require("cors"));
const app = (0, express_1.default)();
const multer = require('multer');
app.use((0, body_parser_1.json)());
app.use(express_1.default.urlencoded({ extended: false }));
app.use(multer().array());
app.use((error, req, res, next) => {
    res.status(500).json({ message: error.message });
});
app.use((0, cors_1.default)());
app.use('/restaurants', restaurant_1.default);
app.use('/menus', menu_1.default);
app.use('/recommends', recommendation_1.default);
app.use('/sales', sale_1.default);
app.use('/login', login_1.default);
app.use('/refresh', refresh_1.default);
app.use('/find-pw', findPassword_1.default);
app.use('/change-pw', changePassword_1.default);
app.use('/check-pw', checkPassword_1.default);
app.use('/logout', logout_1.default);
app.use('/mypage', mypage_1.default);
app.use('/myreviews', myReviews_1.default);
app.use('/mystore', myStore_1.default);
app.use('/location-category', locCat_1.default);
app.use('/location-tag', locTag_1.default);
app.use('/food-category', foodCat_1.default);
app.use('/recommend-tag', recomTag_1.default);
app.use('/join', join_1.default);
app.use('/email-verification/send-code', email_1.default);
app.listen(3004);
